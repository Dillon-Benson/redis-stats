#! /usr/bin/env ruby

$LOAD_PATH.unshift(File.dirname(File.realpath(__FILE__)) + '/../lib')

require 'redis-stats'

x = gets
while x = gets
	RedisStats::Session << RedisStats::Command.new(x)
	puts "Most used data structure: #{RedisStats::Session.most_used_data_structure}"
	puts "Commands issued: #{RedisStats::Session.commands_processed}"
	puts "Latest command: #{RedisStats::Session.latest_command.received_data}\n\n\n"
end